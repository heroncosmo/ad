!function(){"use strict";let e=({query:e,container:t})=>{let n=null;try{n=(t||document).querySelector(e||"")}catch(e){console.info("querySelector error",e)}return n};function t(e,t){let n=e.getBoundingClientRect().top+window.pageYOffset,r=window.pageYOffset,o=n-r,a=null;requestAnimationFrame(function e(n){var i;null===a&&(a=n);let l=n-a,s=(i=l/(t/2))<1?o/2*i*i+r:-o/2*(--i*(i-2)-1)+r;window.scrollTo(0,s),l<t&&requestAnimationFrame(e)})}let n=e=>{let t=window.location.hostname;return`gp:countdown-cache-time-${t}-${e}`},r=e=>{try{let t=localStorage.getItem(e);if(!t)return null;let n=JSON.parse(t),r=new Date;if(r.getTime()>n.expiry)return localStorage.removeItem(e),null;return n.value}catch(e){return null}},o=(e,t)=>{localStorage.setItem(e,JSON.stringify({value:new Date().toString(),expiry:new Date().getTime()+Number(t)}))},a=e=>(e.startsWith("#el-")?e.replace("#el-","#"):e).substring(1),i=(e,n)=>{if(e){if(n){t(e,n);return}l(e)}},l=e=>{e&&e.scrollIntoView({behavior:"smooth"})},s=e=>{let n=document.documentElement;if(e){t(n,e);return}window.scrollTo({top:0,behavior:"smooth"})},u=(e,t)=>{let n=c(e);return{week:n.weeks,day:t.enableWeek?n.days:n.totalDays,hour:t.enableDay?n.hours:n.totalHours,minute:t.enableHour||t.enableDay||t.enableWeek?n.minutes:n.totalMinutes,second:t.enableMinute||t.enableHour||t.enableDay||t.enableWeek?n.seconds:n.totalSeconds}},c=e=>({seconds:e%60,minutes:Math.floor(e/60)%60,hours:Math.floor(e/60/60)%24,days:Math.floor(e/60/60/24)%7,weeks:Math.floor(e/60/60/24/7),months:Math.floor(e/60/60/24/30.4368),totalDays:Math.floor(e/60/60/24),totalHours:Math.floor(e/60/60),totalMinutes:Math.floor(e/60),totalSeconds:e}),d=e=>{let t=new Date().getTime();e||(e=h({days:0,hours:3,mins:0,endTime:0}));let n=Math.ceil((e-t)/1e3);return n>0?n:0},g=e=>Number.isNaN(e)||0===e?"00":e<10?`0${e}`:e,h=(e,t)=>{let n=new Date,r=t?new Date(t):new Date;return n.setDate(r.getDate()+e.days),n.setHours(r.getHours()+e.hours),n.setMinutes(r.getMinutes()+e.mins),n.setSeconds(r.getSeconds()),n.getTime()},m=(e,t,n)=>{let r=new Date,o=b(`${e}:${t} ${n}`);e=o.hours,t=o.mins;let a=new Date(r.getFullYear(),r.getMonth(),r.getDate(),e,t).getTime(),i=a-r.getTime();return i<0&&(i+=864e5),Math.ceil(i/1e3)},p=(e,t)=>{let n=0,r=new Date(e);if(void 0!=t&&""!=t&&((n=parseInt(t)?parseInt(t):parseInt(t.slice(3)))||0===n)){let e=new Date().getTimezoneOffset();r=new Date(r.getTime()-6e4*e-36e5*n)}return d(r.getTime())};function w(e,t){let n=new Date().getTime(),r=h(t,e),o=Math.ceil((r-n)/1e3);return o>0?o:0}let S=(e,t)=>{let a=null==t?void 0:t.uid,i=n(a);r(i)||o(i,null==t?void 0:t.cacheTTl);let l=r(i);return l&&l?w(l,e):0},b=e=>{let[t,n,r]=e.toLowerCase().match(/\d+|[a-z]+/g)||[],o=`${Number(t)%12+("am"==r?0:12)}:${n}`.split(":");return{hours:parseInt(o[0]?o[0]:"0"),mins:parseInt(o[1]?o[1]:"0")}},f=()=>{window.removeEventListener("gp-global-loaded",f),customElements.get("gp-countdown-timer")||customElements.define("gp-countdown-timer",class extends GP.Component{constructor(){var t,l;super(),t="dispatchEventInteraction",l=e=>{this.trigger&&this.trigger({event:"gp:countdown-timer",data:e})},t in this?Object.defineProperty(this,t,{value:l,enumerable:!0,configurable:!0,writable:!0}):this[t]=l;let c=this.getState("uid"),d=this.getState("behaviour"),h=this.getState("timerDaily"),b=this.getState("timerEverygreen"),f=this.getState("dateStandard"),y=this.getState("timeZone"),v=this.getState("enableWeek"),D=this.getState("enableDay"),M=this.getState("enableHour"),T=this.getState("enableMinute"),I=this.getState("enableSecond"),N=function(e){if(!e)return 0;let t=864e5*e.days,n=36e5*e.hours,r=6e4*e.mins;return t+n+r}(b),q=this.getState("redirectUrl"),k=this.getAttribute("gp-href"),O=this.getState("autoHideWhenTimeout"),E=this.getState("loopAfterFinish"),$=E&&"evergreen"===d&&!1===O,x=e=>{let t=n(c);o(t,N.toString());let a=r(t);return a?w(a,e):0},H=(()=>{switch(d){case"daily":return m(h.hours,h.mins,h.format);case"evergreen":return S(b,{uid:c,cacheTTl:N.toString()});case"standard":return p(f,y);default:return 0}})(),C=this.querySelector("#week .gp-countdown-number"),A=this.querySelector("#day .gp-countdown-number"),L=this.querySelector("#hour .gp-countdown-number"),W=this.querySelector("#minute .gp-countdown-number"),F=this.querySelector("#second .gp-countdown-number"),J=this.querySelector("#section-countdown"),j=()=>{let t=k||(null==q?void 0:q.link);if(t&&"#"!==q.link){let n=a(t),r=e({query:`[id='${n}']`}),o=e({query:`[data-gp-dialog-id='${n}']`});if((null==o?void 0:o.tagName)==="DIALOG"){let e=null==o?void 0:o.parentNode;e&&e.openModal()}"scroll-to-top"===n&&s(),r&&i(r),"open-popup"!==q.type&&"scroll-to"!==q.type&&window.open(t,q.target)}if(!$){if(O){J.classList.add("!gp-hidden");return}J.classList.remove("!gp-hidden")}},z=()=>{let{week:e,day:t,hour:n,minute:r,second:o}=u(Math.max(H,0),{enableWeek:v,enableDay:D,enableHour:M,enableMinute:T,enableSecond:I});C&&(C.textContent=g(e).toString()),A&&(A.textContent=g(t).toString()),L&&(L.textContent=g(n).toString()),W&&(W.textContent=g(r).toString()),F&&(F.textContent=g(o).toString())};z(),J.classList.remove("!gp-hidden");let Y=setInterval(()=>{var e;H-=1,z();let t=new Map(Object.entries(JSON.parse(null!==(e=this.getAttribute("gp-interaction-counter"))&&void 0!==e?e:"{}")));t.size>0&&t.forEach((e,n)=>{H!==Number(n)||(this.dispatchEventInteraction(Number(n)),$||(t.delete(n),this.setAttribute("gp-interaction-counter",JSON.stringify(Object.fromEntries(t)))))}),H<=0&&($?H=x(b):(j(),clearInterval(Y)))},1e3)}})};"completed"===window.gpReadyState?f():window.addEventListener("gp-global-loaded",f)}();
