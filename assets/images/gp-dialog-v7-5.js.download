!function(){"use strict";let t=()=>window.innerWidth<768?"mobile":window.innerWidth>=768&&window.innerWidth<1025?"tablet":"desktop";function e(t,e){if(e.has(t))throw TypeError("Cannot initialize the same private elements twice on an object")}function i(t,e,i){if(!e.has(t))throw TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}function n(t,e){var n=i(t,e,"get");return n.get?n.get.call(t):n.value}function a(t,i,n){e(t,i),i.set(t,n)}function s(t,e,n){var a=i(t,e,"set");return!function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw TypeError("attempted to set read only private field");e.value=i}}(t,a,n),n}function o(t,e,i){if(!e.has(t))throw TypeError("attempted to get private field on non-instance");return i}function l(t,i){e(t,i),i.add(t)}function r(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}let h=()=>{window.removeEventListener("gp-global-loaded",h);var e=new WeakMap,i=new WeakMap,d=new WeakMap,c=new WeakMap,u=new WeakMap,p=new WeakMap,g=new WeakMap,w=new WeakMap,v=new WeakSet,f=new WeakSet,m=new WeakSet,b=new WeakSet,k=new WeakSet,W=new WeakSet,S=new WeakSet,M=new WeakSet,y=new WeakMap,E=new WeakSet,T=new WeakSet,L=new WeakSet;class I extends GP.Component{openModal(){localStorage.setItem(n(this,c).time,`${Date.now()}`),o(this,f,O).call(this),this.dispatchInteractionOpenPopup()}constructor(){super(),l(this,v),l(this,f),l(this,m),l(this,b),l(this,k),l(this,W),l(this,S),l(this,M),l(this,E),l(this,T),l(this,L),a(this,e,{writable:!0,value:!1}),a(this,i,{writable:!0,value:!1}),a(this,d,{writable:!0,value:{}}),a(this,c,{writable:!0,value:{id:"",time:""}}),a(this,u,{writable:!0,value:void 0}),a(this,p,{writable:!0,value:void 0}),a(this,g,{writable:!0,value:void 0}),a(this,w,{writable:!0,value:"desktop"}),r(this,"interactionListenerLoaded",t=>{if(window.interactionLoaded){t();return}window.addEventListener("gp:flow-actions-loaded",()=>{t()})}),r(this,"dispatchInteractionOpenPopup",()=>{this.interactionListenerLoaded(()=>{this.trigger({event:"gp:popup-open"})})}),r(this,"dispatchInteractionClosePopup",()=>{this.interactionListenerLoaded(()=>{this.trigger({event:"gp:popup-close"})})}),r(this,"listenerInteractionEvents",()=>{this.onTrigger&&(this.onTrigger({event:"gp:toggle-popup-open"},()=>{this.openModal()}),this.onTrigger({event:"gp:toggle-popup-close"},()=>{o(this,v,P).call(this)}))}),a(this,y,{writable:!0,value:(t="",e="")=>({id:`dialog:${t}:${e}`,time:`dialog:${t}:${e}:time`})});try{var h;let e=JSON.parse(null!==(h=this.dataset.gpSetting)&&void 0!==h?h:"{}");s(this,d,e),s(this,w,t()),s(this,c,n(this,y).call(this,e.dialogId,e.trigger)),s(this,u,this.querySelector(`dialog[data-gp-dialog-id="${e.dialogId}"]`)),s(this,p,this.querySelector("div[data-gp-dialog-overlay]")),s(this,g,this.querySelector("button[data-gp-dialog-close]")),o(this,b,q).call(this),o(this,k,C).call(this)}catch(t){}}}function P(){var t;s(this,e,!1),null===(t=n(this,u))||void 0===t||t.close(),this.dispatchInteractionClosePopup()}function O(){var t;n(this,e)||(s(this,e,!0),null===(t=n(this,u))||void 0===t||t.showModal())}function $(){let t=localStorage.getItem(n(this,c).time);if(t)switch(n(this,d).frequencyMode){case"once":break;case"after-period-time":{let e=o(this,E,j).call(this,t,n(this,d).frequency);e&&this.openModal();break}case"every":this.openModal()}else this.openModal()}function q(){var t,e;this.listenerInteractionEvents(),n(this,d).closeOnClickOutside&&(null===(e=n(this,p))||void 0===e||e.addEventListener("click",()=>{o(this,v,P).call(this)})),null===(t=n(this,g))||void 0===t||t.addEventListener("click",()=>{o(this,v,P).call(this)})}function C(){var t,e,i;let a=null===(t=n(this,d))||void 0===t?void 0:t.display;if(a){let t=null===(i=n(this,d))||void 0===i?void 0:null===(e=i.display)||void 0===e?void 0:e[n(this,w)];if(!t)return}switch(n(this,d).trigger){case"show-on-page-load":o(this,T,A).call(this,n(this,d).triggerTime)>0?setTimeout(()=>{o(this,m,$).call(this)},1e3*o(this,T,A).call(this,n(this,d).triggerTime)):o(this,m,$).call(this);break;case"show-after-scroll":o(this,S,N).call(this);break;case"show-when-about-exit":o(this,M,x).call(this)}}function D(t){var e;if(n(this,i))return;let a=document.documentElement.scrollHeight-document.documentElement.clientHeight;Math.ceil(t/a*100)>=(null!==(e=n(this,d).triggerPercentage)&&void 0!==e?e:0)&&(s(this,i,!0),o(this,m,$).call(this))}function N(){o(this,W,D).call(this,window.scrollY),window.addEventListener("scroll",t=>{let e=t.currentTarget.scrollY;o(this,W,D).call(this,e)})}function x(){if(!n(this,e)){if(o(this,L,B).call(this)&&"show-when-about-exit"===n(this,d).trigger&&"timer"===n(this,d).mobileTrigger){var t;setTimeout(()=>{o(this,m,$).call(this)},(null!==(t=n(this,d).mobileTriggerTime)&&void 0!==t?t:0)*1e3)}document.addEventListener("mouseleave",()=>{n(this,e)||o(this,m,$).call(this)})}}function j(t,e=0){let i=t?new Date(Number(t)):new Date,n=Date.now()-i.getTime();return Math.abs(n/24/60/60/1e3)>=e}function A(t){var e;let i=parseFloat(null!==(e=null==t?void 0:t.toString())&&void 0!==e?e:"0");return isNaN(i)?0:i}function B(){return!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}customElements.get("gp-dialog")||customElements.define("gp-dialog",I)};"completed"===window.gpReadyState?h():window.addEventListener("gp-global-loaded",h)}();
