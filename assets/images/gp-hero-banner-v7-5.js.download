!function(){"use strict";let e=/(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/(?:[^/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=|shorts\/)|youtu\.be\/)([^"&?/\s]{11})/i,t=t=>{var i;let o=t.match(e);return null!==(i=null==o?void 0:o[1])&&void 0!==i?i:void 0},i=({containerElement:e,backgroundElement:t},{speed:i=0,scale:o="100%",hoverEffect:l=!1,hoverEffectDuration:r})=>{var a;if(!e||!t)return;let n=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,s=n?.5*i:i,d=window.innerHeight,h=!1,c=0,u=0,v=0,p=0,g=0,m=0,y=(e,i=!1)=>{let l=i?`translate3d(0, ${e}px, 0) scale(${o})`:`translate3d(0, ${e}px, 0)`;t.style.transform=l,t.style.webkitTransform=l},f=()=>{let i=t.getBoundingClientRect().height,o=e.getBoundingClientRect().height;g=i-o},b=()=>{let e=t.getBoundingClientRect();v=e.top,p=e.height;let i=-p,o=d;if(v<=i||v>=o){m=0;return}let l=(v-i)/(o-i)*100,r=Math.min(Math.max(l,0),100)/100*g-g/2;m=-(r*s*1)},w=r?`${null!==(a=parseFloat(`${r}`))&&void 0!==a?a:.5}s`:n?"300ms":"0.05s",S=()=>{Object.assign(t.style,{willChange:"transform",webkitBackfaceVisibility:"hidden",transformStyle:"preserve-3d",transition:n?`transform ${w} cubic-bezier(0, 0, 0, 1)`:`transform ${w} linear`})},k=()=>{Object.assign(t.style,{willChange:"",webkitBackfaceVisibility:"",transformStyle:"",transition:""})},E=null,P=()=>{E||(E=setTimeout(()=>{d=window.innerHeight,f(),E=null},100))};window.addEventListener("resize",P,{passive:!0}),f(),b();let x=new ResizeObserver(()=>{f()});x.observe(e);let q=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting?(h=!0,S(),c=requestAnimationFrame(L)):(h=!1,k(),cancelAnimationFrame(c))})},{threshold:0});q.observe(e),l&&(e.addEventListener("mouseenter",()=>y(m,!0),{passive:!0}),e.addEventListener("mouseleave",()=>y(m),{passive:!0}));let A=0,L=e=>{if(!h)return;let t=window.pageYOffset;if(e-A<16||u===t){c=requestAnimationFrame(L);return}A=e,u=t,b(),y(m),c=requestAnimationFrame(L)};return()=>{q.disconnect(),x.disconnect(),window.removeEventListener("resize",P),cancelAnimationFrame(c)}},o=(e,t,i)=>{var o,l,r,a,n,s;switch(t){case"tablet":return null!==(l=null!==(o=null==e?void 0:e.tablet)&&void 0!==o?o:null==e?void 0:e.desktop)&&void 0!==l?l:i;case"mobile":return null!==(n=null!==(a=null!==(r=null==e?void 0:e.mobile)&&void 0!==r?r:null==e?void 0:e.tablet)&&void 0!==a?a:null==e?void 0:e.desktop)&&void 0!==n?n:i;default:return null!==(s=null==e?void 0:e.desktop)&&void 0!==s?s:i}},l=(e,t)=>{var i,o,l,r,a,n,s;switch(e){case"desktop":if((null==t?void 0:null===(i=t.desktop)||void 0===i?void 0:i.type)==="video")return{device:"desktop",data:t.desktop};break;case"tablet":if((null==t?void 0:null===(o=t.tablet)||void 0===o?void 0:o.type)==="video")return{device:"tablet",data:t.tablet};if(!(null==t?void 0:t.tablet)&&(null==t?void 0:null===(l=t.desktop)||void 0===l?void 0:l.type)==="video")return{device:"desktop",data:t.desktop};break;case"mobile":if((null==t?void 0:null===(r=t.mobile)||void 0===r?void 0:r.type)==="video")return{device:"mobile",data:t.mobile};if(!(null==t?void 0:t.mobile)&&(null==t?void 0:null===(a=t.tablet)||void 0===a?void 0:a.type)==="video")return{device:"tablet",data:t.tablet};if(!(null==t?void 0:t.mobile)&&!(null==t?void 0:null===(n=t.tablet)||void 0===n?void 0:n.type)&&(null==t?void 0:null===(s=t.desktop)||void 0===s?void 0:s.type)==="video")return{device:"desktop",data:t.desktop}}},r=e=>e?String(e).includes("%")?`${e}`:`${e}%`:"100%",a={src:"https://www.youtube.com/iframe_api",loading:!1,loaded:!1,listeners:[],load:function(e){let t=this;if(this.listeners.push(e),this.loaded){setTimeout(function(){t.done()});return}if(this.loading)return;this.loading=!0,window.onYouTubeIframeAPIReady=function(){t.loaded=!0,t.done()};let i=document.createElement("script");i.type="text/javascript",i.src=this.src,document.body.appendChild(i)},done:function(){for(;this.listeners.length;)this.listeners.pop()(window.YT)}},n=e=>!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(e);function s(e,t){let i=e.getBoundingClientRect().top+window.pageYOffset,o=window.pageYOffset,l=i-o,r=null;requestAnimationFrame(function e(i){var a;null===r&&(r=i);let n=i-r,s=(a=n/(t/2))<1?l/2*a*a+o:-l/2*(--a*(a-2)-1)+o;window.scrollTo(0,s),n<t&&requestAnimationFrame(e)})}let d=e=>(e.startsWith("#el-")?e.replace("#el-","#"):e).substring(1),h=(e,t)=>{if(e){if(t){s(e,t);return}c(e)}},c=e=>{e&&e.scrollIntoView({behavior:"smooth"})},u=e=>{let t=document.documentElement;if(e){s(t,e);return}window.scrollTo({top:0,behavior:"smooth"})},v=({query:e,container:t})=>{let i=null;try{i=(t||document).querySelector(e||"")}catch(e){console.info("querySelector error",e)}return i};function p(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let g="article",m=()=>{window.removeEventListener("gp-global-loaded",m),customElements.get("gp-hero-banner")||customElements.define("gp-hero-banner",class extends GP.Component{redirectAnchor(e){var t;if(this.href&&!(null==e?void 0:null===(t=e.srcElement)||void 0===t?void 0:t.closest("a"))){let e=d(this.href),t=v({query:`[id='${e}']`}),i=v({query:`[data-gp-dialog-id='${e}']`});if((null==i?void 0:i.tagName)==="DIALOG"){let e=null==i?void 0:i.parentNode;e&&e.openModal()}if("scroll-to-top"===e&&u(),t&&h(t),"open-popup"===this.linkType||"scroll-to"===this.linkType)return;window.open(this.href,this.target)}}addAnchorLinkEventListener(){let e=this.querySelector('[data-hero-banner-link="true"]');e&&(e.removeEventListener("click",this.redirectAnchor.bind(this)),null==e||e.addEventListener("click",this.redirectAnchor.bind(this)))}init(){var t,o,a;let n=this.querySelector(".hero-banner-bg-parallax");n&&(this.isParallaxVer2=!0),this.enableParallax&&0!==this.speedParallax&&n&&i({containerElement:this,backgroundElement:n},{speed:this.speedParallax,hoverEffect:this.hoverEffect,scale:r(this.hoverEffectScale),hoverEffectDuration:this.hoverEffectDuration}),this.dataResponsive=l(this.device,this.background);let s=null===(t=l(this.device,this.background))||void 0===t?void 0:t.data,d=this.querySelector(`${this.bgQuery}`);s?this.setDataHtml5Source(s):null===(o=d.querySelector("video"))||void 0===o||o.classList.add("gp-hidden");let h=(null==s?void 0:s.type)==="video"&&(null==s?void 0:s.videoType)==="youtube"&&e.test((null==s?void 0:s.video)||"");h?this.createArticle():null===(a=d.querySelector(g))||void 0===a||a.remove(),this.updateSizeForContent(),this.addEventResize(),this.triggerEventPlay(),this.addEventSwitchTab(),this.addEventScroll(),this.isParallaxVer2||(this.handleParallaxScroll(),this.addStyleBackgroundImage(this.device))}setDataHtml5Source(e){var t,i;let o=this.querySelector(`${this.bgQuery}`);if((null==e?void 0:e.type)==="video"&&(null==e?void 0:e.videoType)==="html5"&&e.videoHtml5){let i=o.querySelector("video");"desktop"!==this.device&&((null===(t=this.aspectRatio)||void 0===t?void 0:t[this.device])==="cover"?(i.style.height="100%",i.style.objectFit="cover"):(i.style.height="unset",i.style.objectFit="fill")),i&&(i.removeAttribute("data-ll-status"),i.removeAttribute("data-src"),null==i||i.classList.remove("gp-hidden"),i.loop=!!e.loop,i.src=e.videoHtml5,i.load())}else null===(i=o.querySelector("video"))||void 0===i||i.classList.add("gp-hidden")}updateSizeForContent(){var e;let t=o(this.layout,this.device),i=o(this.contentPosition1Col,this.device),l=o(this.contentPosition2Col,this.device),r=1>=((null==t?void 0:null===(e=t.cols)||void 0===e?void 0:e.length)||1)?i:l;if("space-between"===r){let e=this.querySelector(".gp-hero-banner-row");e&&(e.style.height=`${this.clientHeight}px`)}}addEventResize(){window.addEventListener("resize",()=>{let t=this.getDevice();if(t!==this.device){var i,o;this.device=t,this.updateSizeForContent();let r=null===(i=l(t,this.background))||void 0===i?void 0:i.data,a=this.querySelector(`${this.bgQuery}`),n=this.querySelector(`${this.bgQuery} ${g}`);if(r?(n&&n.classList.add("gp-hidden"),this.setDataHtml5Source(r)):(null===(o=a.querySelector("video"))||void 0===o||o.classList.add("gp-hidden"),null==n||n.classList.add("gp-hidden")),r&&"video"===r.type&&"youtube"===r.videoType&&e.test(r.video||"")){if(n&&n.classList.remove("gp-hidden"),n){if(n.innerHTML="",this.dataResponsive=l(t,this.background),!this.dataResponsive)return;let e=this.getDataIframe();if(void 0===e)return;this.createIframe(n,e,!0)}else this.dataResponsive=l(t,this.background),this.createArticle()}else{let e=this.querySelector(`${this.bgQuery}`);this.articleSelector=e.querySelector(g),this.articleSelector&&this.articleSelector.classList.add("gp-hidden")}this.isParallaxVer2||this.addStyleBackgroundImage(t)}this.triggerEventPlay(),this.isParallaxVer2||this.handleParallaxScroll()})}addEventScroll(){window.addEventListener("scroll",()=>{this.triggerEventPlay(),this.isParallaxVer2||this.handleParallaxScroll()})}addEventSwitchTab(){window.addEventListener("visibilitychange",()=>{document.hidden||this.triggerEventPlay()})}triggerEventPlay(){var e,t,i;let o=null===(e=this.dataResponsive)||void 0===e?void 0:e.device,l=this.background[o];(null==l?void 0:l.video)&&(null==l?void 0:l.loop)&&this.iframeEl&&(null===(i=this.iframeEl)||void 0===i||null===(t=i.contentWindow)||void 0===t||t.postMessage(JSON.stringify({event:"command",func:"playVideo"}),"*"))}getDevice(){return window.innerWidth<768?"mobile":window.innerWidth>=768&&window.innerWidth<1025?"tablet":"desktop"}createArticle(){let e=this.getDataIframe();if(void 0===e)return;let t=this.querySelector(`${this.bgQuery} .gp-hero-banner-image-background`);if(this.articleSelector=t.querySelector(g),this.articleSelector){let t=this.articleSelector.querySelector("iframe");this.createIframe(this.articleSelector,e,!t)}else this.articleSelector=document.createElement(g),this.articleSelector.style.cssText=`
            aspect-ratio: 16/9;
            pointer-events: none;
            padding-bottom: 56.25%;
            height: 100%;
            width: 100%;
            overflow: hidden;
            max-width: none !important;
            position: relative;
          `,this.createIframe(this.articleSelector,e,!0),t.appendChild(this.articleSelector)}createIframe(e,t,i){var o;let l=null===(o=this.articleSelector)||void 0===o?void 0:o.querySelector("iframe");if(t.isLoop){!i&&l&&l.remove();let{videoId:o}=t,r=this.createWrapperDiv();e.append(r);let n=`player-wrapper-${this.uid}`;r.append(this.createPlayerWrapper(n)),null==a||a.load(()=>{new YT.Player(n,{videoId:o,host:"https://www.youtube-nocookie.com",playerVars:{autoplay:1,state:1,controls:0,mute:1,enablejsapi:1,playlist:o,showinfo:0,rel:0,fs:0},events:{onReady:e=>{e.target.playVideo(),this.videoDuration=Math.floor(e.target.getDuration())},onStateChange:e=>{let t=e.target;this.isVideoStarted||(t.playVideo(),this.isVideoStarted=!0,this.runVideo(e)),0===e.data&&(this.videoDuration=t.getCurrentTime(),t.playVideo(),this.runVideo(e))}}})}),window.onbeforeunload=()=>{clearInterval(this.intervalTracker)}}else{let o;!i&&l&&(o=l),(o=document.createElement("iframe")).allowFullscreen=!0,o.allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",o.frameBorder="0",o.src=t.iframeSrc,o.style.cssText=`
              aspect-ratio: 16/9;
              width: 100%;
              inset: 0;
              background: #000;
              position: absolute;
              width: 500% !important;
              margin-left: -200% !important;
              height: 100% !important;
              max-width: none !important;
              scale: 1.04;
            `,this.iframeEl=o,e.append(o)}}runVideo(e){let t=e.target;if(this.videoDuration>0){let e=parseFloat((this.videoDuration/100*5).toFixed(2));clearInterval(this.intervalTracker),this.intervalTracker=setInterval(()=>{let i=parseFloat(t.getCurrentTime().toFixed(2)),o=parseFloat((this.videoDuration-i).toFixed(2));o<=1.5*e&&t.seekTo(0)},1e3*e)}}createWrapperDiv(){let e=document.createElement("div");return e.style.position="absolute",e.style.left="0",e.style.top="0",e.style.width="100%",e.style.height="100%",e.style.aspectRatio="16/9",e}createPlayerWrapper(e){let t=document.createElement("div");return t.id=e,t.style.width="500%",t.style.marginLeft="-200%",t.style.height="100%",t.style.maxWidth="none",t.style.scale="1.04",t.style.inset="0px",t.style.backgroundColor="black",t}getDataIframe(){var i,o;let l=null===(i=this.dataResponsive)||void 0===i?void 0:i.device,r=this.background[l],a=null!==(o=null==r?void 0:r.video)&&void 0!==o?o:"",n=t(a);if(!e.test(a)||!n)return;let s=`https://www.youtube-nocookie.com/embed/${n}?autoplay=1&state=1&mute=1&loop=${(null==r?void 0:r.loop)?1:0}&playlist=${n}&controls=0&enablejsapi=1`;return{iframeSrc:s,videoId:n,isLoop:(null==r?void 0:r.loop)?1:0}}addStyleBackgroundImage(e){var t,i;let o=this.querySelector(`${this.bgQuery}`);n(navigator.userAgent)&&(null===(t=this.background[e])||void 0===t?void 0:t.type)!=="video"&&(null===(i=this.background[e])||void 0===i?void 0:i.attachment)==="fixed"?o.style.setProperty("-webkit-transform","translate3d(0,0,0)"):o.style.removeProperty("-webkit-transform")}handleParallaxScroll(){var e,t,i,o,l,r,a;let n=this.querySelector(`${this.bgQuery}`);this.scrollAmount=window.innerHeight-this.clientHeight;let s=this.getBoundingClientRect().y;window.innerHeight>s?this.scrollAmount=window.innerHeight-s:this.scrollAmount=0,n&&0!==this.speedParallax&&(n.style.backgroundAttachment=(null===(e=this.background[this.device])||void 0===e?void 0:e.type)==="image"&&this.enableParallax?"fixed":(null===(t=this.background[this.device])||void 0===t?void 0:t.attachment)||"scroll",n.style.backgroundPosition=(null===(i=this.background[this.device])||void 0===i?void 0:i.type)==="image"&&this.enableParallax?`center ${(window.innerHeight-this.scrollAmount)*(1-this.speedParallax)}px `:`${null===(l=this.background[this.device])||void 0===l?void 0:null===(o=l.position)||void 0===o?void 0:o.x}% ${null===(a=this.background[this.device])||void 0===a?void 0:null===(r=a.position)||void 0===r?void 0:r.y}%`)}constructor(){var e,t;super(),p(this,"uid",void 0),p(this,"bgQuery",void 0),p(this,"background",void 0),p(this,"aspectRatio",void 0),p(this,"device","desktop"),p(this,"articleSelector",null),p(this,"dataResponsive",void 0),p(this,"iframeEl",void 0),p(this,"enableParallax",!1),p(this,"speedParallax",0),p(this,"scrollAmount",0),p(this,"intervalTracker",void 0),p(this,"isVideoStarted",!1),p(this,"videoDuration",0),p(this,"hoverEffect",!1),p(this,"hoverEffectScale","100%"),p(this,"hoverEffectDuration",void 0),p(this,"isParallaxVer2",!1),p(this,"layout",void 0),p(this,"contentPosition2Col",void 0),p(this,"contentPosition1Col",void 0),p(this,"href",void 0),p(this,"target",void 0),p(this,"linkType",void 0),p(this,"initEventLazyload",()=>{this.init()}),this.uid=this.getState("uid"),this.bgQuery=`[data-id="${this.uid}"] .gp-hero-banner-bg`,this.background=this.getState("background"),this.aspectRatio=this.getState("aspectRatio"),this.speedParallax=this.getState("speedParallax"),this.device=this.getDevice(),this.enableParallax=this.getState("enableParallax"),this.hoverEffect=this.getState("hoverEffect"),this.hoverEffectScale=this.getState("hoverEffectScale"),this.hoverEffectDuration=this.getState("hoverEffectDuration"),this.layout=this.getState("layout"),this.contentPosition1Col=this.getState("contentPosition1Col"),this.contentPosition2Col=this.getState("contentPosition2Col"),this.init(),this.href=null!==(t=null!==(e=this.getAttribute("gp-href"))&&void 0!==e?e:this.getState("href"))&&void 0!==t?t:"",this.target=this.getState("target"),this.linkType=this.getState("linkType"),this.addAnchorLinkEventListener()}})};"completed"===window.gpReadyState?m():window.addEventListener("gp-global-loaded",m)}();
